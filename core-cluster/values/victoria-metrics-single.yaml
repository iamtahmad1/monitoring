# Victoria Metrics Single - Time Series Database
server:
  # Resource configuration
  resources:
    requests:
      cpu: 200m
      memory: 512Mi
    limits:
      cpu: 1000m
      memory: 2Gi
  
  # Storage configuration
  persistentVolume:
    enabled: true
    size: 50Gi
    storageClass: ""  # Use default storage class
  
  # Retention period
  retentionPeriod: 30d
  
  # Extra args for VM
  extraArgs:
    envflag.enable: "true"
    envflag.prefix: VM_
    loggerFormat: json
    dedup.minScrapeInterval: 30s
  
  # Service configuration - NodePort for cross-cluster access
  service:
    type: NodePort
    servicePort: 8428
    nodePort: 30428
  
  # Ingress
  ingress:
    enabled: true
    ingressClassName: nginx
    hosts:
      - name: vm.dev.cluster.lan
        path: /
  
  # Scrape configs - VM can scrape directly but we'll use vmagent/prometheus
  scrape:
    enabled: false

# ServiceMonitor (disabled - requires Prometheus Operator CRDs)
serviceMonitor:
  enabled: false

